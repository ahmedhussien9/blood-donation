<div class="wrapper">
  <div class="wrapper__header">
    <h1 class="main-title">Announcements</h1>
    <p>Emergency Blood Announcements</p>
  </div>
  <ng-container *ngIf="loading">
    <app-loader></app-loader>
  </ng-container>
  <ng-container *ngIf="!loading">
  
    <div class="tabelContainer">
      <div class="text-end">
        <mat-form-field class="" >
          <mat-label>+ Create new      </mat-label>
          <input matInput>
        </mat-form-field>
      </div>
    
      <table class="table">
        <thead>
          <tr>
            <th>Title</th>
            <th>Blood Needed</th>
            <th>Announcement Date</th>
            <th>Organizer</th>
            <th>Requirements</th>
            <th>edit</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="
              let data of mockData
                | paginate
                  : {
                      itemsPerPage: 10,
                      currentPage: page,
                      totalItems: totalItems
                    };
              let i = index
            "
            style="cursor: pointer"
          >
            <td>{{ data.title | slice: 0:20 }}</td>
            <td>{{ data.bloodType }}</td>
            <td>{{ data.date }}</td>
            <td>{{ data.organizer }}</td>
            <td>{{ data.requirements | slice: 0:30 }}</td>

            <td>
              <button mat-icon-button [matMenuTriggerFor]="menu">
                <mat-icon>more_vert</mat-icon>
              </button>
              <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="approveStudent(data.id)">
                  <mat-icon>edit</mat-icon>
                  <span>{{ "Edit" | translate }}</span>
                </button>
                <button mat-menu-item (click)="approveStudent(data.id)">
                  <mat-icon>delete</mat-icon>
                  <span>{{ "Delete" | translate }}</span>
                </button>
              </mat-menu>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <pagination-controls
      [previousLabel]="'Preview' | translate"
      [nextLabel]="'Next' | translate"
      (pageChange)="getPage($event)"
    >
    </pagination-controls>
  </ng-container>
</div>
