<div class="wrapper">
  <div class="wrapper__header">
    <h1 class="main-title">Queue</h1>
    <p>List of ticketing</p>
  </div>

  <!-- <div class="filter-container">
      <div class="form-group">
        <div class="input-wrapper">
          <object type="image/svg+xml" data="./assets/images/search.svg">
            <img src="./assets/images/search.svg">
          </object>
          <input type="text" formControlName="search" placeholder="Search by VAT number" class=" form-control" autofocus>
        </div>
      </div>
      <div class="form-group">
        <input type="text" ngxDaterangepickerMd [(ngModel)]="selected" class="form-control" />
      </div>
      <div class="apply-filter">
        <button type="button" class="btn" (click)="downloadAll()">
          Apply
        </button>
      </div>
    </div> -->

  <ng-container *ngIf="loading">
    <app-loader></app-loader>
  </ng-container>
  <ng-container *ngIf="!loading">
    <div class="tabelContainer">
      <table class="table">
        <thead>
          <tr>
            <th>id</th>
            <th>Name</th>
            <th>Image</th>
            <th>Emirate ID</th>
            <th>Phone</th>
            <th>Generate Barcode</th>
            <th>Barcode</th>
            <th>Status</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="
              let student of students
                | paginate
                  : {
                      itemsPerPage: 10,
                      currentPage: page,
                      totalItems: totalItems
                    };
              let i = index
            "
            style="cursor: pointer"
          >
            <td>{{ i + 1 }}</td>
            <td>{{ student.name }}</td>
            <td>{{ student.id_number }}</td>
            <td>{{ student.mobile }}</td>
            <td>+2010000220808</td>
            <td>
              <button>Generate Barcode</button>
            </td>
            <td>
              <img
                src="https://www.pngplay.com/wp-content/uploads/2/Barcode-Transparent-PNG.png"
                height="100px"
              />
            </td>

            <td>Pending</td>
            <td>
              <button mat-icon-button [matMenuTriggerFor]="menu">
                <mat-icon>more_vert</mat-icon>
              </button>
              <mat-menu #menu="matMenu">
                <ng-container
                  *ngIf="
                    student.status &&
                    student.status[0] &&
                    student.status[0].text === 'pending'
                  "
                >
                  <button mat-menu-item (click)="approveStudent(student._id)">
                    <mat-icon>done</mat-icon>
                    <span>{{ "Approve" | translate }}</span>
                  </button>

                  <!-- <button mat-menu-item (click)="activeEmployee(element._id, false)">
                      <mat-icon>block</mat-icon>
                      <span>{{ "Deactive" | translate }}</span>
                    </button> -->
                </ng-container>
                <!-- <ng-container *ngIf="!element?.employeeInfo?.is_active">
                    <button mat-menu-item (click)="activeEmployee(element._id, true)">
                      <mat-icon>done</mat-icon>
                      <span>{{ "Active" | translate }}</span>
                    </button>
                  </ng-container> -->
              </mat-menu>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <pagination-controls
      [previousLabel]="'Preview' | translate"
      [nextLabel]="'Next' | translate"
      (pageChange)="getPage($event)"
    >
    </pagination-controls>
  </ng-container>
</div>
