<div class="wrapper">
  <div class="wrapper__header">
    <h1 class="main-title">Doctor</h1>
  </div>
  <ng-container *ngIf="loading">
    <app-loader
      message="Please wait while the barcode is being scanned ..."
    ></app-loader>
  </ng-container>

  <mat-horizontal-stepper [linear]="true" #stepper *ngIf="!loading">
    <!-- -------------------- 1 start------------------- -->

    <mat-step label="Barcode Scan Data">
      <!-- <ng-template matStepLabel>Fill out your name</ng-template> -->

      <!-- <ng-template matStepLabel>Barcode Scan Data</ng-template> -->
      <div class="step one">
        <!-- <p>Barcode Scan Data</p> -->
        <app-infoTable [list]="list"></app-infoTable>
      </div>
      <div class="d-flex-between">
        <button
          (click)="showDonorDateBtnsHandler(false)"
          mat-button
          matStepperNext
          class="btn success-color"
        >
          Confirm
        </button>
      </div>
    </mat-step>
    <!-- -------------------- 1 end------------------- -->

    <!-- -------------------- 2 start------------------- -->
    <mat-step label="Donor Date">
      <div class="step step-tow stepper-tow">
        <mat-horizontal-stepper #stepper>
          <mat-step>
            <app-infoTable [list]="list2"></app-infoTable>
            <h3>Test Results:</h3>
            <img
              width="50%"
              src="https://www.researchgate.net/profile/Laurie-Carlson/publication/232872362/figure/tbl1/AS:670721684553743@1536923919660/Q3-Means-and-Standard-Deviations-for-All-CBC-Scales-and-Subscales-Across-All.png"
            />
            <div>
              <button mat-button matStepperNext class="btn">
                Review Questionnaire
              </button>
            </div>
          </mat-step>
          <mat-step label="Fill out your address">
            <!-- Questions section -->
            <div class="stepper questions">
              <div class="header">
                <p>Questions</p>
                <p>Personal Information</p>
              </div>

              <div class="row ">
                <div class="col-md-4 ">
                  <app-infoTable [list]="list3"></app-infoTable>
                </div>
                <div class="col-md-5 offset-2 ">
                  <app-infoTable [list]="list2"></app-infoTable>
                </div>
                <div class="col-12 d-flex-between">
                  <button mat-button matStepperPrevious>Back</button>
                  <button mat-button matStepperNext class="btn success-color">
                    Next
                  </button>
                </div>
              </div>
            </div>
          </mat-step>
          <mat-step>
            <!-- Health section -->
            <div class="stepper Health">
              <div class="header">
                <p>Questions</p>
                <p>Health Assessment</p>
              </div>
              <div class="row ">
                <h5 class="section-title">
                  Please tick the appropriate answer to each question:
                </h5>
              </div>

              <div
                class="row "
                *ngFor="let question of questionList; let i = index"
              >
                <div class="col-md-6 ">
                  <label id="example-radio-group-label"
                    >{{ i + 1 }} -{{ question.name }}</label
                  >
                </div>
                <div class="col-md-5 offset-1 ">
                  <mat-radio-group aria-label="Select an option">
                    <mat-radio-button
                      *ngFor="let option of question.options"
                      class="option"
                      [checked]="question.value == option.value"
                      disabled
                      [value]="option.value"
                      >{{ option.name }}</mat-radio-button
                    >
                  </mat-radio-group>
                </div>
              </div>

              <div class="row ">
                <div class="col-12 d-flex-between">
                  <button mat-button matStepperPrevious>Back</button>
                  <button mat-button matStepperNext class="btn success-color">
                    Next
                  </button>
                </div>
              </div>
            </div>
          </mat-step>
          <mat-step>
            <!-- Health section -->
            <div class="stepper Risk">
              <div class="header">
                <p>Questions</p>
                <p>Risk Assessment</p>
              </div>
              <div class="row ">
                <h5 class="section-title">
                  Please tick the appropriate answer to each question:
                </h5>
              </div>

              <div
                class="row "
                *ngFor="let question of questionList; let i = index"
              >
                <div class="col-md-6 ">
                  <label id="example-radio-group-label"
                    >{{ i + 1 }} -{{ question.name }}</label
                  >
                </div>
                <div class="col-md-5 offset-1 ">
                  <mat-radio-group aria-label="Select an option">
                    <mat-radio-button
                      *ngFor="let option of question.options"
                      class="option"
                      [checked]="question.value == option.value"
                      disabled
                      [value]="option.value"
                      >{{ option.name }}</mat-radio-button
                    >
                  </mat-radio-group>
                </div>
              </div>
              <div class="row ">
                <div class="col-12 d-flex-between">
                  <button mat-button matStepperPrevious>Back</button>
                  <button mat-button matStepperNext class="btn success-color">
                    Next
                  </button>
                </div>
              </div>
            </div>
          </mat-step>

          <mat-step>
            <!-- Declaration section -->
            <div class="stepper Declaration">
              <div class="header">
                <p>Questions</p>
                <p>Declaration</p>
              </div>
              <div class="row ">
                <h5 class="section-title">
                  Please do not sign until you have answered all the questions
                  and read the declaration below:
                </h5>
              </div>

              <div class="row ">
                <div class="col-md-12 ">
                  <ul>
                    <li>
                      I confirm that, to the best of my knowledge, I have
                      answered all the questions accurately, and I consider my
                      blood safe for the transfusion to a patient.
                    </li>
                    <li>
                      I confirm that I am over the age of 18 years.
                    </li>
                  </ul>
                </div>
                <div class="col-12  ">
                  <div class="signature">
                    <img
                      src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Autograph_of_Benjamin_Franklin.svg/1200px-Autograph_of_Benjamin_Franklin.svg.png"
                    />
                    <p>
                      Dr. Ahmad Rifai
                    </p>
                  </div>
                  <div class="signature">
                    <img
                      src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Autograph_of_Benjamin_Franklin.svg/1200px-Autograph_of_Benjamin_Franklin.svg.png"
                    />
                    <p>
                      Hammad Salem Naser
                    </p>
                  </div>
                </div>
              </div>
              <div class="row ">
                <div class="col-12 d-flex-between">
                  <button mat-button matStepperPrevious>Back</button>
                  <button
                    mat-button
                    matStepperNext
                    class="btn success-color"
                    (click)="showDonorDateBtnsHandler(true)"
                  >
                    Next
                  </button>
                </div>
              </div>
            </div>
          </mat-step>
          <mat-step>
            <p>Donor Date</p>
            <app-infoTable [list]="list2"></app-infoTable>
            <h3>Test Results:</h3>
            <img
              width="50%"
              src="https://www.researchgate.net/profile/Laurie-Carlson/publication/232872362/figure/tbl1/AS:670721684553743@1536923919660/Q3-Means-and-Standard-Deviations-for-All-CBC-Scales-and-Subscales-Across-All.png"
            />

            <div class="row " *ngIf="!showDonorDateBtns">
              <div class="col-12 d-flex-between">
                <button mat-button matStepperPrevious class="btn ">
                  Review Questionnaire
                </button>
                <button mat-button matStepperNext class="btn success-color">
                  Proceed
                </button>
              </div>
            </div>
          </mat-step>
        </mat-horizontal-stepper>
        <div *ngIf="showDonorDateBtns" class=" d-flex-between">
          <button
            mat-button
            matStepperPrevious
            class="btn "
            (click)="showDonorDateBtnsHandler(false)"
          >
            Review Questionnaire
          </button>
          <button
            mat-button
            matStepperNext
            class="btn success-color"
            (click)="showDonorDateBtnsHandler(true)"
          >
            Proceed
          </button>
        </div>
      </div>
    </mat-step>
    <!-- -------------------- 2 end------------------- -->

    <!-- -------------------- 3 start------------------- -->
    <mat-step>
      <ng-template matStepLabel>Confirm Examination</ng-template>
      <div class="step three">
        <app-infoTable [list]="list"></app-infoTable>
      </div>
      <div class="text-center">
        <app-button-icon
          title="Confirm for Phlebotomy"
          (click)="submitEvent()"
          customClass="success-color"
        ></app-button-icon>
        <app-button-icon
          title="Defer"
          (click)="openInputDialog()"
          customClass="success-color"
        ></app-button-icon>
      </div>
    </mat-step>
    <!-- -------------------- 3 end------------------- -->
  </mat-horizontal-stepper>


</div>
